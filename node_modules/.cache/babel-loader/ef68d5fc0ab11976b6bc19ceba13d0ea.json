{"ast":null,"code":"import _classCallCheck from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{bindActionCreators}from'redux';import{connect}from'react-redux';import*as videoActions from\"../../store/actions/video\";import{allMostPopularVideosLoaded,getMostPopularVideos,getMostPopularVideosNextPageToken}from'../../store/reducers/videos';import{getYoutubeLibraryLoaded}from'../../store/reducers/api';import{VideoList}from'../../components/VideoList/VideoList';var Trending=/*#__PURE__*/function(_React$Component){_inherits(Trending,_React$Component);var _super=_createSuper(Trending);function Trending(){var _this;_classCallCheck(this,Trending);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.fetchMoreVideos=function(){var nextPageToken=_this.props.nextPageToken;if(_this.props.youtubeLibraryLoaded&&nextPageToken){_this.props.fetchMostPopularVideos(12,true,nextPageToken);}};return _this;}_createClass(Trending,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchTrendingVideos();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.youtubeLibraryLoaded!==this.props.youtubeLibraryLoaded){this.fetchTrendingVideos();}}},{key:\"render\",value:function render(){var loaderActive=this.shouldShowLoader();return/*#__PURE__*/React.createElement(VideoList,{bottomReachedCallback:this.fetchMoreVideos,showLoader:loaderActive,videos:this.props.videos});}},{key:\"fetchTrendingVideos\",value:function fetchTrendingVideos(){if(this.props.youtubeLibraryLoaded){this.props.fetchMostPopularVideos(20,true);}}},{key:\"shouldShowLoader\",value:function shouldShowLoader(){return!this.props.allMostPopularVideosLoaded;}}]);return Trending;}(React.Component);function mapStateToProps(state){return{videos:getMostPopularVideos(state),youtubeLibraryLoaded:getYoutubeLibraryLoaded(state),allMostPopularVideosLoaded:allMostPopularVideosLoaded(state),nextPageToken:getMostPopularVideosNextPageToken(state)};}function mapDispatchToProps(dispatch){var fetchMostPopularVideos=videoActions.mostPopular.request;return bindActionCreators({fetchMostPopularVideos},dispatch);}export default connect(mapStateToProps,mapDispatchToProps)(Trending);","map":{"version":3,"sources":["/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/src/containers/Trending/Trending.js"],"names":["React","bindActionCreators","connect","videoActions","allMostPopularVideosLoaded","getMostPopularVideos","getMostPopularVideosNextPageToken","getYoutubeLibraryLoaded","VideoList","Trending","fetchMoreVideos","nextPageToken","props","youtubeLibraryLoaded","fetchMostPopularVideos","fetchTrendingVideos","prevProps","loaderActive","shouldShowLoader","videos","Component","mapStateToProps","state","mapDispatchToProps","dispatch","mostPopular","request"],"mappings":"gvBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,kBAAR,KAAiC,OAAjC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAO,GAAKC,CAAAA,YAAZ,KAA8B,2BAA9B,CACA,OACEC,0BADF,CAEEC,oBAFF,CAGEC,iCAHF,KAIO,6BAJP,CAKA,OAAQC,uBAAR,KAAsC,0BAAtC,CACA,OAAQC,SAAR,KAAwB,sCAAxB,C,GAEMC,CAAAA,Q,+UAqBJC,e,CAAkB,UAAM,IACfC,CAAAA,aADe,CACE,MAAKC,KADP,CACfD,aADe,CAEtB,GAAI,MAAKC,KAAL,CAAWC,oBAAX,EAAmCF,aAAvC,CAAsD,CACpD,MAAKC,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,CAAsC,IAAtC,CAA4CH,aAA5C,EACD,CACF,C,iGAzBmB,CAClB,KAAKI,mBAAL,GACD,C,8DAEkBC,S,CAAW,CAC5B,GAAIA,SAAS,CAACH,oBAAV,GAAmC,KAAKD,KAAL,CAAWC,oBAAlD,CAAwE,CACtE,KAAKE,mBAAL,GACD,CACF,C,uCAEQ,CACP,GAAME,CAAAA,YAAY,CAAG,KAAKC,gBAAL,EAArB,CAEA,mBAAQ,oBAAC,SAAD,EACN,qBAAqB,CAAE,KAAKR,eADtB,CAEN,UAAU,CAAEO,YAFN,CAGN,MAAM,CAAE,KAAKL,KAAL,CAAWO,MAHb,EAAR,CAID,C,iEAUqB,CACpB,GAAI,KAAKP,KAAL,CAAWC,oBAAf,CAAqC,CACnC,KAAKD,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,CAAsC,IAAtC,EACD,CACF,C,2DAEkB,CACjB,MAAO,CAAC,KAAKF,KAAL,CAAWR,0BAAnB,CACD,C,sBApCoBJ,KAAK,CAACoB,S,EAuC7B,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,CACLH,MAAM,CAAEd,oBAAoB,CAACiB,KAAD,CADvB,CAELT,oBAAoB,CAAEN,uBAAuB,CAACe,KAAD,CAFxC,CAGLlB,0BAA0B,CAAEA,0BAA0B,CAACkB,KAAD,CAHjD,CAILX,aAAa,CAAEL,iCAAiC,CAACgB,KAAD,CAJ3C,CAAP,CAMD,CAED,QAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,GAAMV,CAAAA,sBAAsB,CAAGX,YAAY,CAACsB,WAAb,CAAyBC,OAAxD,CACA,MAAOzB,CAAAA,kBAAkB,CAAC,CAACa,sBAAD,CAAD,CAA2BU,QAA3B,CAAzB,CACD,CAED,cAAetB,CAAAA,OAAO,CAACmB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6Cd,QAA7C,CAAf","sourcesContent":["import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport * as videoActions from \"../../store/actions/video\";\nimport {\n  allMostPopularVideosLoaded,\n  getMostPopularVideos,\n  getMostPopularVideosNextPageToken\n} from '../../store/reducers/videos';\nimport {getYoutubeLibraryLoaded} from '../../store/reducers/api';\nimport {VideoList} from '../../components/VideoList/VideoList';\n\nclass Trending extends React.Component {\n  componentDidMount() {\n    this.fetchTrendingVideos();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.youtubeLibraryLoaded !== this.props.youtubeLibraryLoaded) {\n      this.fetchTrendingVideos();\n    }\n  }\n\n  render() {\n    const loaderActive = this.shouldShowLoader();\n\n    return (<VideoList\n      bottomReachedCallback={this.fetchMoreVideos}\n      showLoader={loaderActive}\n      videos={this.props.videos}/>);\n  }\n\n\n  fetchMoreVideos = () => {\n    const {nextPageToken} = this.props;\n    if (this.props.youtubeLibraryLoaded && nextPageToken) {\n      this.props.fetchMostPopularVideos(12, true, nextPageToken);\n    }\n  };\n\n  fetchTrendingVideos() {\n    if (this.props.youtubeLibraryLoaded) {\n      this.props.fetchMostPopularVideos(20, true);\n    }\n  }\n\n  shouldShowLoader() {\n    return !this.props.allMostPopularVideosLoaded;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    videos: getMostPopularVideos(state),\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\n    allMostPopularVideosLoaded: allMostPopularVideosLoaded(state),\n    nextPageToken: getMostPopularVideosNextPageToken(state),\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const fetchMostPopularVideos = videoActions.mostPopular.request;\n  return bindActionCreators({fetchMostPopularVideos}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Trending);"]},"metadata":{},"sourceType":"module"}