{"ast":null,"code":"import _classCallCheck from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Image}from'semantic-ui-react';import'./VideoPreview.scss';import TimeAgo from'javascript-time-ago';import en from'javascript-time-ago/locale/en';import{getShortNumberString}from'../../services/number/number-format';import{getVideoDurationString}from'../../services/date/date-format';import{Link}from'react-router-dom';TimeAgo.locale(en);var timeAgo=new TimeAgo('en-US');export var VideoPreview=/*#__PURE__*/function(_React$Component){_inherits(VideoPreview,_React$Component);var _super=_createSuper(VideoPreview);function VideoPreview(){_classCallCheck(this,VideoPreview);return _super.apply(this,arguments);}_createClass(VideoPreview,[{key:\"render\",value:function render(){var video=this.props.video;if(!video){return/*#__PURE__*/React.createElement(\"div\",null);}var duration=video.contentDetails?video.contentDetails.duration:null;var videoDuration=getVideoDurationString(duration);var viewAndTimeString=VideoPreview.getFormattedViewAndTime(video);var horizontal=this.props.horizontal?'horizontal':null;var expanded=this.props.expanded?'expanded':null;var description=this.props.expanded?video.snippet.description:null;return/*#__PURE__*/React.createElement(Link,{to:{pathname:this.props.pathname,search:this.props.search}},/*#__PURE__*/React.createElement(\"div\",{className:['video-preview',horizontal,expanded].join(' ')},/*#__PURE__*/React.createElement(\"div\",{className:\"image-container\"},/*#__PURE__*/React.createElement(Image,{src:video.snippet.thumbnails.medium.url}),/*#__PURE__*/React.createElement(\"div\",{className:\"time-label\"},/*#__PURE__*/React.createElement(\"span\",null,videoDuration))),/*#__PURE__*/React.createElement(\"div\",{className:\"video-info\"},/*#__PURE__*/React.createElement(\"div\",{className:['semi-bold','show-max-two-lines',expanded].join(' ')},video.snippet.title),/*#__PURE__*/React.createElement(\"div\",{className:\"video-preview-metadata-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"channel-title\"},video.snippet.channelTitle),/*#__PURE__*/React.createElement(\"div\",{className:\"view-and-time\"},viewAndTimeString),/*#__PURE__*/React.createElement(\"div\",{className:\"show-max-two-lines\"},description)))));}}],[{key:\"getFormattedViewAndTime\",value:function getFormattedViewAndTime(video){var publicationDate=new Date(video.snippet.publishedAt);var viewCount=video.statistics?video.statistics.viewCount:null;if(viewCount){var viewCountShort=getShortNumberString(video.statistics.viewCount);return\"\".concat(viewCountShort,\" views \\u2022 \").concat(timeAgo.format(publicationDate));}return'';}}]);return VideoPreview;}(React.Component);","map":{"version":3,"sources":["/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/7/webd171-7/src/components/VideoPreview/VideoPreview.js"],"names":["React","Image","TimeAgo","en","getShortNumberString","getVideoDurationString","Link","locale","timeAgo","VideoPreview","video","props","duration","contentDetails","videoDuration","viewAndTimeString","getFormattedViewAndTime","horizontal","expanded","description","snippet","pathname","search","join","thumbnails","medium","url","title","channelTitle","publicationDate","Date","publishedAt","viewCount","statistics","viewCountShort","format","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Image} from 'semantic-ui-react';\nimport './VideoPreview.scss';\n\nimport TimeAgo from 'javascript-time-ago';\nimport en from 'javascript-time-ago/locale/en';\nimport {getShortNumberString} from '../../services/number/number-format';\nimport {getVideoDurationString} from '../../services/date/date-format';\nimport {Link} from 'react-router-dom';\n\nTimeAgo.locale(en);\nconst timeAgo = new TimeAgo('en-US');\n\nexport class VideoPreview extends React.Component {\n  render() {\n    const {video} = this.props;\n    if (!video) {\n      return <div/>;\n    }\n\n    const duration = video.contentDetails ? video.contentDetails.duration : null;\n    const videoDuration = getVideoDurationString(duration);\n    const viewAndTimeString = VideoPreview.getFormattedViewAndTime(video);\n    const horizontal = this.props.horizontal ? 'horizontal' : null;\n    const expanded = this.props.expanded ? 'expanded' : null;\n    const description = this.props.expanded ? video.snippet.description : null;\n\n    return (\n      <Link to={{pathname: this.props.pathname, search: this.props.search}}>\n        <div className={['video-preview', horizontal, expanded].join(' ')}>\n          <div className='image-container'>\n            <Image src={video.snippet.thumbnails.medium.url}/>\n            <div className='time-label'>\n              <span>{videoDuration}</span>\n            </div>\n          </div>\n\n          <div className='video-info'>\n            <div className={['semi-bold', 'show-max-two-lines', expanded].join(' ')}>{video.snippet.title}</div>\n            <div className='video-preview-metadata-container'>\n              <div className='channel-title'>{video.snippet.channelTitle}</div>\n              <div className='view-and-time'>{viewAndTimeString}</div>\n              <div className='show-max-two-lines'>{description}</div>\n            </div>\n          </div>\n        </div>\n      </Link>\n    );\n  }\n\n  static getFormattedViewAndTime(video) {\n    const publicationDate = new Date(video.snippet.publishedAt);\n    const viewCount = video.statistics ? video.statistics.viewCount : null;\n    if(viewCount) {\n      const viewCountShort = getShortNumberString(video.statistics.viewCount);\n      return `${viewCountShort} views â€¢ ${timeAgo.format(publicationDate)}`;\n    }\n    return '';\n  }\n}"]},"metadata":{},"sourceType":"module"}